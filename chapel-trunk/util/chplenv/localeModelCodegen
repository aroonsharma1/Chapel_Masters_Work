#!/usr/bin/env perl

use FindBin;
use lib $FindBin::Bin;
use Run qw(ret run);
use strict;

my $preset_acc_codegen=$ENV{'CHPL_ACC_CODEGEN'};
my $acc_codegen;

my $localeModel = run("localeModel");

if ($preset_acc_codegen eq "") {
    if ($localeModel eq "acc") {
        # for now we will default to openacc.
        $acc_codegen = "openacc";
    } else {
        $acc_codegen = "none";
    }
} else {
    $acc_codegen = $preset_acc_codegen;
}

ret($acc_codegen);
print "$acc_codegen\n" unless caller;

